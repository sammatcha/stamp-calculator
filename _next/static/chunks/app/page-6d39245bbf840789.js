(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3063:(e,t,a)=>{Promise.resolve().then(a.bind(a,9922))},9922:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var r=a(5155),l=a(2115);let s={forever:{name:"Forever Stamp",cost:.78},additional:{name:"Additional Ounce",cost:.29},nonMachineable:{name:"Non-Machineable",cost:1.27},limit:3.5},n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),i=e=>{let t=o(e);return t.charAt(0).toUpperCase()+t.slice(1)},c=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,l.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:n,className:o="",children:i,iconNode:h,...m}=e;return(0,l.createElement)("svg",{ref:t,...u,width:r,height:r,stroke:a,strokeWidth:n?24*Number(s)/Number(r):s,className:c("lucide",o),...!i&&!d(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,a]=e;return(0,l.createElement)(t,a)}),...Array.isArray(i)?i:[i]])}),m=((e,t)=>{let a=(0,l.forwardRef)((a,r)=>{let{className:s,...o}=a;return(0,l.createElement)(h,{ref:r,iconNode:t,className:c("lucide-".concat(n(i(e))),"lucide-".concat(e),s),...o})});return a.displayName=i(e),a})("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function p(){var e;let[t,a]=(0,l.useState)(""),[n,o]=(0,l.useState)(""),[i,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)(""),f=Math.round(100*n.total)/100;async function x(e){e.preventDefault();let a=function(e,t){let a=[],r=0;if(e<=0)return"Please enter valid weight";if(e>s.limit)return"Weight exceeds maximum limit of 3.5 oz";if(a.push({type:t?"nonMachineable":"forever",quantity:1}),e>1){let t=Math.ceil(e-1);a.push({type:"additional",quantity:t})}return a.forEach(e=>{r+=s[e.type].cost*e.quantity}),{breakdown:a,total:r}}(t,i);try{let e=await fetch("http://localhost:3001/api/postage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({weight:t,nonMachinable:i})});if(!e.ok)throw Error("Response status:,".concat(e.status));let a=await e.json();p(a)}catch(e){console.error("API call failed:",e)}o(a)}return(0,r.jsxs)("form",{method:"post",onSubmit:x,className:"min-w-full lg:px-20 mx-auto flex justify-center items-center relative z-10 flex-col container",children:[(0,r.jsx)("div",{className:" w-full flex flex-col  aspect-square dark:text-slate-700 border py-10 border-uspsBlue/20 bg-white/70 backdrop-blur-sm max-w-md ",children:(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-6",children:[(0,r.jsx)("label",{className:"text-md lg:text-3xl xl:text-4xl font-bold font-robotoMono mt-10 ",children:"Weight (oz)"}),(0,r.jsx)("input",{className:"rounded text-gray-500 px-1 w-64 bg-gray-400 dark:bg-gray-100 border-uspsBlue/60 border-2 placeholder-gray-400 ",name:"userInput",value:t,type:"number",onChange:e=>a(e.target.value),placeholder:"weight"}),(0,r.jsxs)("div",{className:"items-center justify-center inline-flex space-x-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:i,onChange:e=>{c(e.target.checked)},className:"cursor-pointer "}),"Is envelope rigid or 1/4 inch thick",(0,r.jsx)(m,{className:"cursor-help ml-1 w-4",onClick:e=>{e.stopPropagation(),u(e=>!e)}}),d&&(0,r.jsx)("div",{className:"md:absolute md:left-full flex text-slate-500 text-xs sm:text-md z-20 px-5",children:"If it feels thick, it might need a non-machineable"})]}),(0,r.jsx)("button",{type:"submit",onClick:x,className:"bg-white rounded text-slate-900 cursor-pointer w-64 hover:bg-uspsBlue/90 border-uspsBlue border-2 hover:focus:ring-2 focus:ring-[#0071E3] hover:text-white",children:"Enter"})]})}),(0,r.jsx)("div",{className:"flex items-center justify-center ",children:(null==n?void 0:n.breakdown)&&(null==n?void 0:n.breakdown.map((e,t)=>{let a="forever"===e.type?"/assets/standard-stamp-4.png":"nonMachineable"===e.type?"/assets/non-machineable-4.png":"/assets/add-oz-4.png";return Array.from({length:e.quantity}).map((l,s)=>(0,r.jsx)("img",{src:a,alt:e.type,className:" w-42 h-42 mx-2 object-contain bg-beige "},"".concat(t,"-").concat(s)))}))}),n.total&&(0,r.jsxs)("p",{className:"font-semibold text-amber-500",children:["Standard Total: $",f]}),(null==h||null==(e=h.metered)?void 0:e.totalBasePrice)&&(0,r.jsxs)("p",{className:"text-xl text-gray-700 dark:text-black",children:["Metered total price $",h.metered.totalBasePrice]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(3063)),_N_E=e.O()}]);